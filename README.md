# 概要
ECHONET Lite (Release Q)を用いてESS-T6を制御、監視するためのプログラムです。  
使用によって故障・不具合等を発生させる可能性があります。サポート等一切できないため、コードを精査の上自己責任での利用お願いします。  

## battery_controller.py
オクトパスエナジーのEVオクトパスプランに適合して充放電管理を行います。  
発電は可能な限り自家消費を行います。  
最も安い11:00-13:00の時間の買電で不足分を賄い、それでも足りない場合は次点で安い1:00-5:00に買電をします。  
1:00-5:00　午前の発電量を予測し翌日の11:00までに必要な電力を買電します。  
11:00-13:00　最も安い時間帯のため上限値ー午後の発電量を買電します。  
その他時間 ニチコンの標準設定に準拠します。(グリーンモードなど)

| Parameter | Description |
| --- | --- |
| Solcast API Key | 発電量予測を行うために必要なSolcastのAPIキー |
| Resource ID1 | 作成したSolcastのリソースID: XXXX-XXXX-XXXX-XXXX |
| Resource ID2 | (オプション)2面に分かれている場合の2面目のSolcastのリソースID |
| 蓄電池IP | ネットワーク内で蓄電池の自動検索を行いますが、見つからなかった場合に入力 |
| 予測係数 | Solcastの予測発電量に乗ずる係数(自家消費分を勘案して設定) |
| 容量(KWh) | 蓄電池の最大容量 |
| 非常用最低(%) | 停電等非常用に残しておく容量 |
| 買電上限(%) | 買電を行う上限値 |
| 朝消費(%) | 11:00までに使用する容量の想定値 |
| 日の出前(%) | 発電開始前に使用する蓄電池の想定値 |

## battery_status.py
30分おきにバッテリーのSOH,総充電量,総放電量をログに出力します。
